var AccessJScripts = function() {

    //localStorage.setItem(globalURLEnlaceme, 'http://www.enlaceme.com/');
    localStorage.setItem(globalURLEnlaceme, 'http://localhost/www.enlaceme.com/');
    var globalURLEnlaceme = localStorage.getItem(globalURLEnlaceme);    
    
        var LoginScript = function() {
            $('#access-form-login').submit(function(event){
                //alert('enviar form');
                var data = new FormData(this);
                $.ajax({
                    url: globalURLEnlaceme + 'access/LoginMethod/',
                    data: data,
                    processData: false,
                    contentType: false,
                    type: 'POST',
                    beforeSend: function(){
                    },
                    success: function(resultLoginMethod){
                        
                        if(resultLoginMethod == 0){
                            alert('Correo no registrado en nuestro sistema, por favor registrese.');
                        } else if(resultLoginMethod == 1){
                            alert('Correo registrado y habilitado en la base de datos.');
                            window.location = globalURLEnlaceme + 'admin';
                        } else if(resultLoginMethod == 2){
                            alert('Correo registrado, pero no habilitado en la base de datos.');
                        } else if(resultLoginMethod == 3){
                            alert('Cuenta desactivada en la base de datos.');
                        } else if(resultLoginMethod == 'invalid-pass'){
                            alert('La contraseña es incorrecta.');
                        }

                    }
                });
            event.preventDefault();              
            });
        };
    
        var RegisterScript = function() {
            
            $('#access-form-register').submit(function(event){

                    var data = new FormData(this);
                
                    $.ajax({
                        url: globalURLEnlaceme + 'access/RegisterMethod/',
                        data: data,
                        processData: false,
                        contentType: false,
                        type: 'POST',
                        success: function(resultRegisterMethod){
                            
                            alert(resultRegisterMethod);
                            
                            if(resultRegisterMethod == 1){
                               alert('Los nombres no son válido.');
                            } else if(resultRegisterMethod == 2){
                                alert('Los apellidos no son válidos.');
                            } else if(resultRegisterMethod == 3){
                                alert('El correo no es válido.');
                            } else if(resultRegisterMethod == 4){
                                alert('El correo electrónico ya esta registrado.');
                            } else if(resultRegisterMethod == 5){
                                alert('Las contraseñas no son iguales.');
                            } else if(resultRegisterMethod == 6){
                                alert('El usuario se registro correctamente; Las instrucciones de validación de cuenta se han enviado al correo electrónico, gracias!');
                                window.location = globalURLEnlaceme + 'access';
                            } else if(resultRegisterMethod == 7){
                                alert('EL usuario se ha registrado correctamente, pero tuvimos problemas al enviar el correo electrónico.');
                                window.location = globalURLEnlaceme + 'access';
                            }

                            /*setTimeout(function(e){
                                window.location = globalURLCDMesaGConnection + 'adminvideostore';
                                e.preventDefault();
                            },3000);*/
                        }
                    });
                
            event.preventDefault();
                
            });            
        };
    
        var ValidateAccountScript = function() {
            
            $('#access-form-emailvalidate').submit(function(event){

                    var data = new FormData(this);
                
                    $.ajax({
                        url: globalURLEnlaceme + 'access/sendEmailForValidation/',
                        data: data,
                        processData: false,
                        contentType: false,
                        type: 'POST',
                        success: function(resultValidateAccountScript){
                            
                            alert(resultValidateAccountScript);

                            window.location = globalURLEnlaceme + 'access';

                        }
                    });
                
            event.preventDefault();
                
            });            
        };    
    
	return {
		init: function() {
			LoginScript(), RegisterScript(), ValidateAccountScript();
		}
	}
}();
jQuery(document).ready(function() {
	AccessJScripts.init()
});