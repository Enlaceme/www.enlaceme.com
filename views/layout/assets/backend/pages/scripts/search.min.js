var Search = function () {

    var globalURLEnlacemeConnection = 'http://localhost/www.enlaceme.com/';
    
	var vGeneralSearchData = function() {
            $('#header-search-submit').click(function(e){
                $('#form-search-header').submit();    
            });
        
            $('#form-search-header').submit(function(e){
                e.preventDefault();
                var vSearch = $(this).find( "input[name='genaralSearch']" ).val();

                function replaceAll(str, find, replace) {
                  var i = str.indexOf(find);
                  if (i > -1){
                    str = str.replace(find, replace); 
                    i = i + replace.length;
                    var st2 = str.substring(i);
                    if(st2.indexOf(find) > -1){
                      str = str.substring(0,i) + replaceAll(st2, find, replace);
                    }       
                  }
                  return str;
                }
                
                window.location = globalURLEnlacemeConnection + 'search/search/' + replaceAll(vSearch,' ', '-');
            });
		};
    
	return {
		init: function() {
			vGeneralSearchData();
		}
    };
}();

jQuery(document).ready(function() {
    Search.init();
})