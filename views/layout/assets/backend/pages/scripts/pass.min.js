var PasswordJScripts = function() {
    var globalURLEnlaceme = localStorage.getItem(globalURLEnlaceme);
        var PasswordValidator = function(){
            /*$('#vPassword').keyup(function(event) {
                var vPassword = $(this).val();
                if(event.which == 13){
                    event.preventDefault();
                }
                xTriggered++;
                var msg = "Handler for .keypress() called " + xTriggered + " time(s); and the value is: " + vPassword;
                $("#passwordMessage").html(msg);
                $("#rePasswordMessage").html(event);
            });*/
            //$('#submitChangePassword').attr('disabled','disabled');
            $('#submitChangePassword').prop('disabled', true);
            $("#submitMessage").html('<div class="alert alert-info"><strong>¡Info!</strong> Se habilitará el botón cuando ingreses la nueva contraseña.</div>');
            /* BEGIN PASSWORD VALIDATOR */
                var xTriggered = 0;
                var xTriggered2 = 0;
                $('#vPassword').keyup(function(event) {
                    var vPassword = $(this).val();
                    var vLength = vPassword.length;
                    var vNumbers = (/[0-9]/).test(vPassword);
                    var vLettersUpperCase = (/[A-Z]/).test(vPassword);
                    var vLettersLowerCase = (/[a-z]/).test(vPassword);
                    var vSpecialChar = (/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/).test(vPassword);
                        if(vLength < 6){
                            $("#passwordMessage").html('<div class="alert alert-danger"><strong>¡UPS!</strong> La contraseña es corta, debe ser mayor a 6 dígitos.</div>');
                            $('#submitChangePassword').prop('disabled', true);
                            $("#submitMessage").html('<div class="alert alert-info"><strong>¡Info!</strong> Se habilitará el botón cuando ingreses la nueva contraseña.</div>');                            
                        } else if(vNumbers === false){
                            $("#passwordMessage").html('<div class="alert alert-danger"><strong>¡UPS!</strong> La contraseña debe tener al menos un número.</div>');
                            $('#submitChangePassword').prop('disabled', true);
                            $("#submitMessage").html('<div class="alert alert-info"><strong>¡Info!</strong> Se habilitará el botón cuando ingreses la nueva contraseña.</div>');                            
                        } else if(vLettersUpperCase === false){
                            $("#passwordMessage").html('<div class="alert alert-danger"><strong>¡UPS!</strong> La contraseña debe tener al menos un letra mayúscula.</div>');
                            $('#submitChangePassword').prop('disabled', true);
                            $("#submitMessage").html('<div class="alert alert-info"><strong>¡Info!</strong> Se habilitará el botón cuando ingreses la nueva contraseña.</div>');                            
                        } else if(vLettersLowerCase === false){
                            $("#passwordMessage").html('<div class="alert alert-danger"><strong>¡UPS!</strong> La contraseña debe tener al menos un letra minúscula.</div>');
                            $('#submitChangePassword').prop('disabled', true);
                            $("#submitMessage").html('<div class="alert alert-info"><strong>¡Info!</strong> Se habilitará el botón cuando ingreses la nueva contraseña.</div>');                            
                        } else if(vSpecialChar === false){
                            $("#passwordMessage").html('<div class="alert alert-danger"><strong>¡UPS!</strong> La contraseña debe tener al menos un caracter especial.</div>');
                            $('#submitChangePassword').prop('disabled', true);
                            $("#submitMessage").html('<div class="alert alert-info"><strong>¡Info!</strong> Se habilitará el botón cuando ingreses la nueva contraseña.</div>');                            
                        } else {
                            $("#passwordMessage").html('<div class="alert alert-success"><strong>¡Excelente!</strong> La contraseña es segura.</div>');
                        }
                    xTriggered++;
                    event.preventDefault();                    
                });
                /*$('#vPassword').on('keydown', function(){
                    $("#passwordMessage").html('');
                });*/
            /* END PASSWORD VALIDATOR */
            /* BEGIN REPASSWORD VALIDATOR */
                $('#vRePassword').keyup(function(event) {
                    var vPassword = $('#vPassword').val();
                    var vRePassword = $(this).val();
                    var vLength = vRePassword.length;
                    var vNumbers = (/[0-9]/).test(vRePassword);
                    var vLettersUpperCase = (/[A-Z]/).test(vRePassword);
                    var vLettersLowerCase = (/[a-z]/).test(vRePassword);
                    var vSpecialChar = (/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/).test(vRePassword);
                    if(vLength < 6){
                        $("#rePasswordMessage").html('<div class="alert alert-danger"><strong>¡UPS!</strong> La contraseña es corta, debe ser mayor a 6 dígitos.</div>');
                        $('#submitChangePassword').prop('disabled', true);
                        $("#submitMessage").html('<div class="alert alert-info"><strong>¡Info!</strong> Se habilitará el botón cuando ingreses la nueva contraseña.</div>');                        
                    } else if(vNumbers == false){
                        $("#rePasswordMessage").html('<div class="alert alert-danger"><strong>¡UPS!</strong> La contraseña debe tener al menos un número.</div>');
                        $('#submitChangePassword').prop('disabled', true);
                        $("#submitMessage").html('<div class="alert alert-info"><strong>¡Info!</strong> Se habilitará el botón cuando ingreses la nueva contraseña.</div>');                        
                    } else if(vLettersUpperCase == false){
                        $("#rePasswordMessage").html('<div class="alert alert-danger"><strong>¡UPS!</strong> La contraseña debe tener al menos un letra mayúscula.</div>');
                        $('#submitChangePassword').prop('disabled', true);
                        $("#submitMessage").html('<div class="alert alert-info"><strong>¡Info!</strong> Se habilitará el botón cuando ingreses la nueva contraseña.</div>');                        
                    } else if(vLettersLowerCase == false){
                        $("#rePasswordMessage").html('<div class="alert alert-danger"><strong>¡UPS!</strong> La contraseña debe tener al menos un letra minúscula.</div>');
                        $('#submitChangePassword').prop('disabled', true);
                        $("#submitMessage").html('<div class="alert alert-info"><strong>¡Info!</strong> Se habilitará el botón cuando ingreses la nueva contraseña.</div>');                        
                    } else if(vSpecialChar == false){
                        $("#rePasswordMessage").html('<div class="alert alert-danger"><strong>¡UPS!</strong> La contraseña debe tener al menos un caracter especial.</div>');
                        $('#submitChangePassword').prop('disabled', true);
                        $("#submitMessage").html('<div class="alert alert-info"><strong>¡Info!</strong> Se habilitará el botón cuando ingreses la nueva contraseña.</div>');                        
                    } else if(vPassword != vRePassword){
                        $("#rePasswordMessage").html('<div class="alert alert-warning"><strong>¡ATENCIÓN!</strong> Las contraseñas no son iguales.</div>');
                        $('#submitChangePassword').prop('disabled', true);
                        $("#submitMessage").html('<div class="alert alert-info"><strong>¡Info!</strong> Se habilitará el botón cuando ingreses la nueva contraseña.</div>');                        
                    } else {
                        $("#rePasswordMessage").html('<div class="alert alert-success"><strong>¡Excelente!</strong> La contraseña es exactamente igual y segura.</div>');
                        $('#submitChangePassword').prop('disabled', false);
                        $("#submitMessage").html('<div class="alert alert-success"><strong>¡Habilitado!</strong> Guarda la nueva contraseña.</div>');
                    }
                    xTriggered2++;
                    event.preventDefault();                    
                });
                $('#vRePassword').on('keydown', function(){
                    $("#rePasswordMessage").html('');
                });
            /* END REPASSWORD VALIDATOR */            
        };   
	return {
		init: function() {
            PasswordValidator();
		}
	}
}();
jQuery(document).ready(function() {
	PasswordJScripts.init()
});